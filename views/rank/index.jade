extends ../layout

block title
    - var whichPage = "排行榜"
    title #{whichPage}
block content
    - var oddEvenTable = "odd"
    - var level = 0
    .col-lg-12.col-md-12.col-sm-12.col-xs-12

            .col-md-3
                    h3.text-center 琅琊榜
                    select.form-control
                        option(value = "ALL") 总过题数
                    table.table.table-condensed.table-center(style="border:1px solid #DDDDDD;font-weight: normal;font-size: medium;font-variant: normal;font-style: normal;float:right;")
                        tr.problem-title-tr.text-center
                            td(style="vertical-align: middle;") 学号
                            td(style="vertical-align: middle;") 姓名
                            td(style="vertical-align: middle;") 过题数
                        if (Counts != "[]")
                            each counts in JSON.parse(Counts)
                                tr.text-center
                                    td #{counts.creator.student_id}
                                    td #{counts.creator.nickname}
                                    td #{counts.COUNT}
                        else
                            p 未找到榜单信息!


            .col-md-3
                        h3.text-center 未来之星榜
                        select.form-control
                           option(value = "R1M") 最近30天过题数
                        table.table.table-condensed.table-center(style="border:1px solid #DDDDDD;font-weight: normal;font-size: medium;font-variant: normal;font-style: normal;float:right;")
                            tr.problem-title-tr.text-center
                                td(style="vertical-align: middle;") 学号
                                td(style="vertical-align: middle;") 姓名
                                td(style="vertical-align: middle;") 过题数
                            if (CountsR!="[]")
                                each countsR in JSON.parse(CountsR)
                                    tr.text-center
                                        td #{countsR.creator.student_id}
                                        td #{countsR.creator.nickname}
                                        td #{countsR.COUNT}
                            else
                                p 未找到榜单信息！
            .col-md-3
                       h3.text-center 题解达人
                       select.form-control(onchange="request_so_searching()",class="soso",id="soresult", name="soresult")
                           option(value = "all") 总提交题解数
                           if (Results !="[]" && ResultsR !="[]" )
                            option(value = "recent") 最近30天提交题解数
                               script.
                                   function request_so_searching() {
                                       var soselected_val = document.getElementById("soresult");
                                       if (soselected_val.value == "recent") {

                                           document.getElementById("s1td0").innerHTML = "<td>#{JSON.parse(ResultsR)[0].creator.student_id}</td>" + "<style>#test{table-layout:fixed;vertical-align: middle;}</style>";
                                           document.getElementById("s1td1").innerHTML = "<td>#{JSON.parse(ResultsR)[1].creator.student_id}</td>";
                                           document.getElementById("s1td2").innerHTML = "<td>#{JSON.parse(ResultsR)[2].creator.student_id}</td>";
                                           document.getElementById("s1td3").innerHTML = "<td>#{JSON.parse(ResultsR)[3].creator.student_id}</td>";
                                           document.getElementById("s1td4").innerHTML = "<td>#{JSON.parse(ResultsR)[4].creator.student_id}</td>";
                                           document.getElementById("s1td5").innerHTML = "<td>#{JSON.parse(ResultsR)[5].creator.student_id}</td>";
                                           document.getElementById("s1td6").innerHTML = "<td>#{JSON.parse(ResultsR)[6].creator.student_id}</td>";
                                           document.getElementById("s1td7").innerHTML = "<td>#{JSON.parse(ResultsR)[7].creator.student_id}</td>";
                                           document.getElementById("s1td8").innerHTML = "<td>#{JSON.parse(ResultsR)[8].creator.student_id}</td>";
                                           document.getElementById("s1td9").innerHTML = "<td>#{JSON.parse(ResultsR)[9].creator.student_id}</td>";

                                           document.getElementById("s2td0").innerHTML = "<td>#{JSON.parse(ResultsR)[0].creator.nickname}</td>";
                                           document.getElementById("s2td1").innerHTML = "<td>#{JSON.parse(ResultsR)[1].creator.nickname}</td>";
                                           document.getElementById("s2td2").innerHTML = "<td>#{JSON.parse(ResultsR)[2].creator.nickname}</td>";
                                           document.getElementById("s2td3").innerHTML = "<td>#{JSON.parse(ResultsR)[3].creator.nickname}</td>";
                                           document.getElementById("s2td4").innerHTML = "<td>#{JSON.parse(ResultsR)[4].creator.nickname}</td>";
                                           document.getElementById("s2td5").innerHTML = "<td>#{JSON.parse(ResultsR)[5].creator.nickname}</td>";
                                           document.getElementById("s2td6").innerHTML = "<td>#{JSON.parse(ResultsR)[6].creator.nickname}</td>";
                                           document.getElementById("s2td7").innerHTML = "<td>#{JSON.parse(ResultsR)[7].creator.nickname}</td>";
                                           document.getElementById("s2td8").innerHTML = "<td>#{JSON.parse(ResultsR)[8].creator.nickname}</td>";
                                           document.getElementById("s2td9").innerHTML = "<td>#{JSON.parse(ResultsR)[9].creator.nickname}</td>";

                                           document.getElementById("s3td0").innerHTML = "<td>#{JSON.parse(ResultsR)[0].COUNT}</td>";
                                           document.getElementById("s3td1").innerHTML = "<td>#{JSON.parse(ResultsR)[1].COUNT}</td>";
                                           document.getElementById("s3td2").innerHTML = "<td>#{JSON.parse(ResultsR)[2].COUNT}</td>";
                                           document.getElementById("s3td3").innerHTML = "<td>#{JSON.parse(ResultsR)[3].COUNT}</td>";
                                           document.getElementById("s3td4").innerHTML = "<td>#{JSON.parse(ResultsR)[4].COUNT}</td>";
                                           document.getElementById("s3td5").innerHTML = "<td>#{JSON.parse(ResultsR)[5].COUNT}</td>";
                                           document.getElementById("s3td6").innerHTML = "<td>#{JSON.parse(ResultsR)[6].COUNT}</td>";
                                           document.getElementById("s3td7").innerHTML = "<td>#{JSON.parse(ResultsR)[7].COUNT}</td>";
                                           document.getElementById("s3td8").innerHTML = "<td>#{JSON.parse(ResultsR)[8].COUNT}</td>";
                                           document.getElementById("s3td9").innerHTML = "<td>#{JSON.parse(ResultsR)[9].COUNT}</td>";
                                       }
                                       else if (soselected_val.value == "all") {
                                           document.getElementById("s1td0").innerHTML = "<td>#{JSON.parse(Results)[0].creator.student_id}</td>" + "<style>#test{table-layout:fixed;vertical-align: middle;}</style>";
                                           document.getElementById("s1td1").innerHTML = "<td>#{JSON.parse(Results)[1].creator.student_id}</td>";
                                           document.getElementById("s1td2").innerHTML = "<td>#{JSON.parse(Results)[2].creator.student_id}</td>";
                                           document.getElementById("s1td3").innerHTML = "<td>#{JSON.parse(Results)[3].creator.student_id}</td>";
                                           document.getElementById("s1td4").innerHTML = "<td>#{JSON.parse(Results)[4].creator.student_id}</td>";
                                           document.getElementById("s1td5").innerHTML = "<td>#{JSON.parse(Results)[5].creator.student_id}</td>";
                                           document.getElementById("s1td6").innerHTML = "<td>#{JSON.parse(Results)[6].creator.student_id}</td>";
                                           document.getElementById("s1td7").innerHTML = "<td>#{JSON.parse(Results)[7].creator.student_id}</td>";
                                           document.getElementById("s1td8").innerHTML = "<td>#{JSON.parse(Results)[8].creator.student_id}</td>";
                                           document.getElementById("s1td9").innerHTML = "<td>#{JSON.parse(Results)[9].creator.student_id}</td>";

                                           document.getElementById("s2td0").innerHTML = "<td>#{JSON.parse(Results)[0].creator.nickname}</td>";
                                           document.getElementById("s2td1").innerHTML = "<td>#{JSON.parse(Results)[1].creator.nickname}</td>";
                                           document.getElementById("s2td2").innerHTML = "<td>#{JSON.parse(Results)[2].creator.nickname}</td>";
                                           document.getElementById("s2td3").innerHTML = "<td>#{JSON.parse(Results)[3].creator.nickname}</td>";
                                           document.getElementById("s2td4").innerHTML = "<td>#{JSON.parse(Results)[4].creator.nickname}</td>";
                                           document.getElementById("s2td5").innerHTML = "<td>#{JSON.parse(Results)[5].creator.nickname}</td>";
                                           document.getElementById("s2td6").innerHTML = "<td>#{JSON.parse(Results)[6].creator.nickname}</td>";
                                           document.getElementById("s2td7").innerHTML = "<td>#{JSON.parse(Results)[7].creator.nickname}</td>";
                                           document.getElementById("s2td8").innerHTML = "<td>#{JSON.parse(Results)[8].creator.nickname}</td>";
                                           document.getElementById("s2td9").innerHTML = "<td>#{JSON.parse(Results)[9].creator.nickname}</td>";

                                           document.getElementById("s3td0").innerHTML = "<td>#{JSON.parse(Results)[0].COUNT}</td>";
                                           document.getElementById("s3td1").innerHTML = "<td>#{JSON.parse(Results)[1].COUNT}</td>";
                                           document.getElementById("s3td2").innerHTML = "<td>#{JSON.parse(Results)[2].COUNT}</td>";
                                           document.getElementById("s3td3").innerHTML = "<td>#{JSON.parse(Results)[3].COUNT}</td>";
                                           document.getElementById("s3td4").innerHTML = "<td>#{JSON.parse(Results)[4].COUNT}</td>";
                                           document.getElementById("s3td5").innerHTML = "<td>#{JSON.parse(Results)[5].COUNT}</td>";
                                           document.getElementById("s3td6").innerHTML = "<td>#{JSON.parse(Results)[6].COUNT}</td>";
                                           document.getElementById("s3td7").innerHTML = "<td>#{JSON.parse(Results)[7].COUNT}</td>";
                                           document.getElementById("s3td8").innerHTML = "<td>#{JSON.parse(Results)[8].COUNT}</td>";
                                           document.getElementById("s3td9").innerHTML = "<td>#{JSON.parse(Results)[9].COUNT}</td>";
                                       }

                                   }

                       table.table.table-condensed.table-center(style="border:1px solid #DDDDDD;font-weight: normal;font-size: medium;font-variant: normal;font-style: normal;float:right;")
                           tr.problem-title-tr.text-center
                               td(style="vertical-align: middle;") 学号
                               td(style="vertical-align: middle;") 姓名
                               td(style="vertical-align: middle;") 交题解数
                           if (Results !="[]")
                               each results,i in JSON.parse(Results)
                                   tr.text-center
                                       td(id="s1td"+i) #{results.creator.student_id}
                                       td(id="s2td"+i) #{results.creator.nickname}
                                       td(id="s3td"+i) #{results.COUNT}
                           else
                               p 未找到该榜单信息！

            .col-md-3
                        h3.text-center 风云榜（赛季冠军）
                        div(style="max-height:400px;overflow:auto;border:1px solid #DDDDDD")
                            table.table.table-condensed.table-center(style="border:1px solid #DDDDDD;font-weight: normal;font-size: medium;font-variant: normal;font-style: normal;float:right;")
                                tr.problem-title-tr.text-center
                                    td(style="vertcal-align: middle;") 月份
                                    td(style="vertical-align: middle;") 学号
                                    td(style="vertical-align: middle;") 姓名
                                tr.text-center
                                    td(style="vertical-align: middle;") 2016年9月
                                    td(style="vertical-align: middle;") 16211037
                                    td(style="vertical-align: middle;") 王嘉翼
                                tr.text-center
                                    td(style="vertical-align: middle;") 2016年10月
                                    td(style="vertical-align: middle;") 16211037
                                    td(style="vertical-align: middle;") 王嘉翼
                                tr.text-center
                                    td(style="vertical-align: middle;") 2016年11月
                                    td(style="vertical-align: middle;") 16211075
                                    td(style="vertical-align: middle;") 余双宏
                                tr.text-center
                                    td(style="vertical-align: middle;") 2016年12月
                                    td(style="vertical-align: middle;") 16211109
                                    td(style="vertical-align: middle;") 周宏建
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年1月
                                    td(style="vertical-align: middle;") 16211109
                                    td(style="vertical-align: middle;") 周宏建
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年2月
                                    td(style="vertical-align: middle;") 16061130
                                    td(style="vertical-align: middle;") 谭圣禹
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年3月
                                    td(style="vertical-align: middle;") 16211109
                                    td(style="vertical-align: middle;") 周宏建
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年4月
                                    td(style="vertical-align: middle;") 16211022
                                    td(style="vertical-align: middle;") 黎昆昌
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年5月
                                    td(style="vertical-align: middle;") 16211109
                                    td(style="vertical-align: middle;") 周宏建
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年6月
                                    td(style="vertical-align: middle;") 75211104
                                    td(style="vertical-align: middle;") 金亨辰
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年7月
                                    td(style="vertical-align: middle;") 15241055
                                    td(style="vertical-align: middle;") 王怀忠
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年8月
                                    td(style="vertical-align: middle;") 16211004
                                    td(style="vertical-align: middle;") 杜予同
                                tr.text-center
                                    td(style="vertical-align: middle;color:#FF0000; font-size:14px;") 2016-2017年度冠军
                                    td(style="vertical-align: middle;color:#FF0000; font-size:20px;") 16211109
                                    td(style="vertical-align: middle;color:#FF0000; font-size:20px;") 周宏建
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年9月
                                    td(style="vertical-align: middle;") 16211064
                                    td(style="vertical-align: middle;") 李想
                                tr.text-center
                                    td(style="vertical-align: middle;") 2017年10月
                                    td(style="vertical-align: middle;") 15041061
                                    td(style="vertical-align: middle;") 廖晓宇
                        p(class="text-right") *系统共实名 #{Presults[0].dataValues.PCOUNT} 人*
        .col-lg-12.col-md-12.col-sm-12.col-xs-12(style="margin-left:13px;")
                p(style="font-weight:bold;") 小O喊你来领奖啦~~~（如下金额数仅供参考，最终实际金额以12月公布的数额为准，可能出入很大喔）
                p ※ 琅琊榜前三名奖金（人民币,元）：冠军 ￥300，亚军 ￥200，季军 ￥100
                p ※ 题解达人前三名奖金（人民币,元）：冠军 ￥300，亚军 ￥200，季军 ￥100
                p ※ 风云榜（赛季冠军）奖金（人民币,元）：年度冠军 ￥300，月冠军 ￥100
                p ※ 榜单上的所有人都有获奖证书！
                br
                p 说明：
                p 1. 颁奖会将于2017年年底举行，12月将会再刷新榜单，获奖名单将根据下次刷新的榜单为准。（目前的榜单不作为评奖依据）
                p 2. 一个人如果获得多个奖项，则按奖金额最高那项颁发。（但仍然颁发多个证书）
                p 3. 本次奖金由*****提供，奖品由*****提供，证书由*****提供。
                br