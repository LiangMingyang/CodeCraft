// Generated by CoffeeScript 1.9.3
(function() {
  'use strict';
  this.angular.module('bcpc', []).controller('bcpc.ctrl', function($scope, $http, $timeout) {
    $scope.registed = "waiting";
    $scope.list = [];
    $http.get('/api/bcpc/status').then(function(res) {
      return $scope.registed = res.data.registed;
    }, function(res) {
      return console.log(res.data.error);
    });
    return $scope.register = function() {
      $scope.registed = 'waiting';
      return $http.get('/api/bcpc/register').then(function(res) {
        return $scope.registed = res.data.registed;
      }, function(res) {
        if (res.status === 401) {
          window.location = "/user/login";
          return;
        }
        return alert(res.data.error);
      });
    };
  }).controller('bcpc.list', function($scope, $http) {
    $scope.list = [];
    return $http.get('/api/bcpc/list').then(function(res) {
      return $scope.list = res.data.users;
    }, function(res) {
      return alert(res.data.error);
    });
  });

}).call(this);

//# sourceMappingURL=app.js.map
